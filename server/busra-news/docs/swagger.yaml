basePath: /api
definitions:
  controllers.AdminUpdateUserRequest:
    properties:
      newPassword:
        example: admin123456
        type: string
      role:
        example: ADMIN
        type: string
      targetUserId:
        example: 65b1a5e2...
        type: string
      verified:
        example: true
        type: boolean
    required:
    - targetUserId
    type: object
  controllers.ChangePasswordRequest:
    properties:
      currentPassword:
        type: string
      newPassword:
        minLength: 6
        type: string
      retypePassword:
        type: string
    required:
    - currentPassword
    - newPassword
    - retypePassword
    type: object
  controllers.LoginRequest:
    properties:
      email:
        example: user@example.com
        type: string
      password:
        example: "123456"
        type: string
    required:
    - email
    - password
    type: object
  controllers.ResendOTPRequest:
    properties:
      email:
        example: user@example.com
        type: string
    required:
    - email
    type: object
  controllers.ResetPasswordRequest:
    properties:
      email:
        example: user@example.com
        type: string
      newPassword:
        example: newpassword123
        minLength: 6
        type: string
      otp:
        example: "1234"
        type: string
    required:
    - email
    - newPassword
    - otp
    type: object
  controllers.UpdateUserRequest:
    properties:
      name:
        example: Sakib Khan
        type: string
    required:
    - name
    type: object
  controllers.VerifyOTPRequest:
    properties:
      email:
        example: user@example.com
        type: string
      otp:
        example: "1234"
        type: string
    required:
    - email
    - otp
    type: object
host: news-with-go.onrender.com
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: This is a sample news server for Busra News.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Busra News API
  version: "1.0"
paths:
  /auth/admin/delete-user/{id}:
    delete:
      description: Soft delete a user account by ID (Admin or Self)
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Deactivate user account
      tags:
      - Admin
  /auth/admin/update-user:
    patch:
      consumes:
      - application/json
      description: অ্যাডমিন যেকোনো ইউজারের রোল, ভেরিফিকেশন স্ট্যাটাস বা পাসওয়ার্ড
        পরিবর্তন করতে পারবে
      parameters:
      - description: Admin Update Data
        in: body
        name: adminUpdate
        required: true
        schema:
          $ref: '#/definitions/controllers.AdminUpdateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: ইউজার আপডেট (অ্যাডমিন শুধু)
      tags:
      - Admin
  /auth/admin/users:
    get:
      description: Retrieve a paginated list of all non-deleted users
      parameters:
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Items per page
        in: query
        name: limit
        type: integer
      - description: Search by name or email
        in: query
        name: search
        type: string
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get all users (Admin Only)
      tags:
      - Admin
  /auth/change-password:
    post:
      consumes:
      - application/json
      description: বর্তমান পাসওয়ার্ড দিয়ে নতুন পাসওয়ার্ড সেট করুন
      parameters:
      - description: Change Password Data
        in: body
        name: change
        required: true
        schema:
          $ref: '#/definitions/controllers.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: পাসওয়ার্ড পরিবর্তন (লগইন থাকা অবস্থায়)
      tags:
      - Users
  /auth/forgot-password:
    post:
      consumes:
      - application/json
      description: পাসওয়ার্ড রিসেট করার জন্য ইমেইলে OTP পাঠায়
      parameters:
      - description: User Email
        in: body
        name: forgot
        required: true
        schema:
          $ref: '#/definitions/controllers.ResendOTPRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: পাসওয়ার্ড ভুলে গেলে OTP পাঠানো
      tags:
      - Auth
  /auth/login:
    post:
      consumes:
      - application/json
      description: ইমেইল ও পাসওয়ার্ড দিয়ে লগইন করে Access ও Refresh টোকেন সংগ্রহ করুন
      parameters:
      - description: Login Credentials
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/controllers.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: ইউজার লগইন
      tags:
      - Auth
  /auth/me:
    get:
      description: Retrieve profile details of the logged-in user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get current user profile
      tags:
      - Users
  /auth/refresh-token:
    post:
      description: রিফ্রেশ টোকেন ব্যবহার করে নতুন এক্সেস টোকেন নেওয়া
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: নতুন এক্সেস টোকেন জেনারেট করা
      tags:
      - Auth
  /auth/resend-otp:
    post:
      consumes:
      - application/json
      description: ভেরিফিকেশন সম্পন্ন না হওয়া একাউন্টের জন্য নতুন OTP পাঠায়
      parameters:
      - description: User Email
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/controllers.ResendOTPRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: OTP পুনরায় পাঠানো
      tags:
      - Auth
  /auth/reset-password:
    post:
      consumes:
      - application/json
      description: OTP ভেরিফাই করে নতুন পাসওয়ার্ড সেট করুন
      parameters:
      - description: Reset Data
        in: body
        name: reset
        required: true
        schema:
          $ref: '#/definitions/controllers.ResetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: পাসওয়ার্ড রিসেট করা
      tags:
      - Auth
  /auth/update-profile:
    patch:
      consumes:
      - application/json
      description: ইউজার তার নিজের নাম আপডেট করতে পারবে
      parameters:
      - description: Update Name
        in: body
        name: update
        required: true
        schema:
          $ref: '#/definitions/controllers.UpdateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: নিজের নাম পরিবর্তন করা
      tags:
      - Users
  /auth/verify:
    post:
      consumes:
      - application/json
      description: ইমেইলে পাঠানো OTP দিয়ে অ্যাকাউন্ট একটিভ করুন
      parameters:
      - description: Verification Data
        in: body
        name: verify
        required: true
        schema:
          $ref: '#/definitions/controllers.VerifyOTPRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: অ্যাকাউন্ট ভেরিফাই করা
      tags:
      - Auth
  /comments/{id}:
    delete:
      description: কমেন্ট সফট ডিলিট করা হয়। শুধুমাত্র কমেন্টের লেখক অথবা অ্যাডমিন
        এটি ডিলিট করতে পারবে।
      parameters:
      - description: Comment ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: কমেন্ট ডিলিট করা
      tags:
      - Comments
  /comments/create:
    post:
      consumes:
      - application/json
      description: নিউজ পোস্টে নতুন কমেন্ট অথবা অন্য কোনো কমেন্টের আন্ডারে রিপ্লাই
        দেওয়া। রিপ্লাইয়ের ক্ষেত্রে parent_id প্রদান করতে হবে।
      parameters:
      - description: Comment Input (post_id, content, parent_id)
        in: body
        name: comment
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: নতুন কমেন্ট বা রিপ্লাই তৈরি করা
      tags:
      - Comments
  /comments/post/{id}:
    get:
      description: একটি নির্দিষ্ট পোস্টের সকল সচল কমেন্টগুলো থ্রেডেড (Threaded) আকারে
        অর্থাৎ কমেন্টের নিচে রিপ্লাইসহ দেখা যাবে।
      parameters:
      - description: Post ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
      summary: পোস্টের সকল কমেন্ট ও রিপ্লাই দেখা
      tags:
      - Comments
  /comments/update/{id}:
    put:
      consumes:
      - application/json
      description: লগইন করা ইউজার শুধুমাত্র নিজের করা কমেন্টের কন্টেন্ট পরিবর্তন করতে
        পারবে।
      parameters:
      - description: Comment ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated Content
        in: body
        name: content
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: কমেন্ট এডিট করা
      tags:
      - Comments
  /posts:
    get:
      description: 'পাবলিকলি সকল সচল (is_deleted: false) পোস্টের তালিকা দেখা যাবে।
        এখানে পেজিনেশন সুবিধা আছে।'
      parameters:
      - description: 'Page number (Default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (Default: 10)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: সকল পোস্টের তালিকা দেখা
      tags:
      - Posts
  /posts/{id}:
    delete:
      description: পোস্টটি ডাটাবেস থেকে স্থায়ীভাবে মুছে না ফেলে 'is_deleted' স্ট্যাটাস
        ট্রু করে দেওয়া হয়।
      parameters:
      - description: Post ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: পোস্ট ডিলিট করা (Soft Delete)
      tags:
      - Posts
  /posts/{slug}:
    get:
      description: পোস্টের ইউনিক স্ল্যাগ ব্যবহার করে বিস্তারিত নিউজ পড়া। প্রতিবার
        ভিজিটে Read Count ১ করে বৃদ্ধি পাবে।
      parameters:
      - description: Post Slug
        in: path
        name: slug
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      summary: Slug দিয়ে পোস্টের বিস্তারিত দেখা
      tags:
      - Posts
  /posts/create:
    post:
      consumes:
      - application/json
      description: লগইন করা ইউজার (Writer/Admin) একটি নতুন নিউজ পোস্ট তৈরি করতে পারবে।
        স্ট্যাটাস অনুযায়ী এটি সরাসরি পাবলিশ, ড্রাফট বা শিডিউল করা যায়।
      parameters:
      - description: Post Input (title, description, status, tags, etc.)
        in: body
        name: post
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: নতুন নিউজ পোস্ট তৈরি করা
      tags:
      - Posts
  /posts/status/{id}:
    patch:
      consumes:
      - application/json
      description: পোস্টের স্ট্যাটাস (publish, schedule, draft) পরিবর্তন করা। শিডিউল
        করলে সময় প্রদান বাধ্যতামূলক।
      parameters:
      - description: Post ID
        in: path
        name: id
        required: true
        type: string
      - description: New status and schedule time
        in: body
        name: status
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: পোস্টের স্ট্যাটাস পরিবর্তন করা
      tags:
      - Posts
  /posts/update/{id}:
    put:
      consumes:
      - application/json
      description: পোস্টের লেখক বা অ্যাডমিন বিদ্যমান কোনো পোস্টের তথ্য পরিবর্তন করতে
        পারবে।
      parameters:
      - description: Post ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated fields
        in: body
        name: post
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: পোস্ট আপডেট করা
      tags:
      - Posts
securityDefinitions:
  BearerAuth:
    description: Type 'Bearer ' followed by your JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
